(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{43:function(t,e,a){},44:function(t,e,a){},54:function(t,e,a){},55:function(t,e,a){},56:function(t,e,a){},57:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var c=a(0),d=a.n(c),o=a(14),r=a.n(o),n=a(5),i=a(24),s=a(22),b=a(7),l=a(2),j=a(23),u=a(32),O=a(33),p={activeBoard:90210,version:.21,boards:{90210:{id:90210,title:"Personal",cards:{1628674456874:{id:1628674456874,position:{x:335,y:192}},1628674368383:{id:1628674368383,position:{x:182,y:53}},1628674191680:{id:1628674191680,position:{x:33,y:462}},1628674173378:{id:1628674173378,position:{x:34,y:328}},1628674142088:{id:1628674142088,position:{x:35,y:197}}}},90211:{id:90211,title:"Professional",cards:{}},90212:{id:90212,title:"Project",cards:{}}},cards:{1628674456874:{id:1628674456874,board_id:90210,title:"Depend on Me?",color:"#FF315C",body:"Development ongoing... But I use it.",status:{editing:!1,complete:!1,discarded:!1}},1628674368383:{id:1628674368383,board_id:90210,title:"Personal Kanban",color:"#9999FF",body:"Version 0.20",status:{editing:!1,complete:!1,discarded:!1}},1628674191680:{id:1628674191680,board_id:90210,title:"Edit Me! Delete Me!",color:"#d1ffee",body:"Right Click on the Card",status:{editing:!0,complete:!1,discarded:!1}},1628674173378:{id:1628674173378,board_id:90210,title:"Create Me!",color:"#9999FF",body:"Right click on the board to begin",status:{editing:!1,complete:!1,discarded:!1}},1628674142088:{id:1628674142088,board_id:90210,title:"Drag Me!",color:"#7dfbff",body:"Figure out what's important",status:{editing:!1,complete:!1,discarded:!1}}},comments:{}};function y(t,e){switch(e.type){case"UPDATE_CARD_POSITION":return Object(l.a)(Object(l.a)({},t),{},{cards:Object(l.a)(Object(l.a)({},t.cards),{},Object(b.a)({},e.payload.id,Object(l.a)(Object(l.a)({},t.cards[e.payload.id]),{},{position:e.payload.position})))});case"DELETE_CARD":var a=t.cards,c=e.payload.id,d=(a[c],Object(i.a)(a,[c].map(s.a)));return Object(l.a)(Object(l.a)({},t),{},{cards:Object(l.a)({},d)});case"CREATE_CARD":return Object(l.a)(Object(l.a)({},t),{},{cards:Object(l.a)(Object(l.a)({},t.cards),{},Object(b.a)({},e.payload.id,{id:e.payload.id,position:e.payload.position}))});default:return t}}function h(t,e){switch(e.type){case"CREATE_CARD":return{id:e.payload.id,board_id:e.payload.board_id,title:e.payload.title,color:e.payload.color,body:e.payload.body,status:e.payload.status};case"UPDATE_CARD":return Object(l.a)(Object(l.a)({},t),{},{title:e.payload.title,color:e.payload.color,body:e.payload.body,status:Object(l.a)(Object(l.a)({},t.status),{},{editing:!1})});case"UPDATE_CARD_STATUS":if("editing"===e.payload.type)return Object(l.a)(Object(l.a)({},t),{},{status:Object(l.a)(Object(l.a)({},t.status),{},Object(b.a)({},e.payload.type,e.payload.status))});if("complete"===e.payload.type&&!0===e.payload.status)return Object(l.a)(Object(l.a)({},t),{},{completed_on:Date.now(),status:Object(l.a)(Object(l.a)({},t.status),{},Object(b.a)({},e.payload.type,e.payload.status))});if("complete"===e.payload.type&&!1===e.payload.status)return Object(l.a)(Object(l.a)({},t),{},{completed_on:void 0,status:Object(l.a)(Object(l.a)({},t.status),{},Object(b.a)({},e.payload.type,e.payload.status))});if("discarded"===e.payload.type&&!0===e.payload.status)return Object(l.a)(Object(l.a)({},t),{},{discarded_on:Date.now(),status:Object(l.a)(Object(l.a)({},t.status),{},Object(b.a)({},e.payload.type,e.payload.status))});if("discarded"===e.payload.type&&!1===e.payload.status)return Object(l.a)(Object(l.a)({},t),{},{discarded_on:void 0,status:Object(l.a)(Object(l.a)({},t.status),{},Object(b.a)({},e.payload.type,e.payload.status))});default:return t}}function f(){try{var t=localStorage.getItem("state");if(null===t)return p;var e=JSON.parse(t);return void 0===e.version?p:e}catch(a){console.warn(a)}}var x=Object(O.composeWithDevTools)(Object(j.applyMiddleware)(u.a)),g=Object(j.createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_CARD_POSITION":return console.log("Updating Card Position"),Object(l.a)(Object(l.a)({},t),{},{boards:Object(l.a)(Object(l.a)({},t.boards),{},Object(b.a)({},e.payload.board_id,y(t.boards[e.payload.board_id],e)))});case"DELETE_CARD":console.log("Deleting Card");var a=t.cards,c=e.payload.id,d=(a[c],Object(i.a)(a,[c].map(s.a)));return Object(l.a)(Object(l.a)({},t),{},{boards:Object(l.a)(Object(l.a)({},t.boards),{},Object(b.a)({},e.payload.board_id,y(t.boards[e.payload.board_id],e))),cards:Object(l.a)({},d)});case"UPDATE_CARD_STATUS":return console.log("Updating Card Status"),Object(l.a)(Object(l.a)({},t),{},{cards:Object(l.a)(Object(l.a)({},t.cards),{},Object(b.a)({},e.payload.id,h(t.cards[e.payload.id],e)))});case"CREATE_CARD":return Object(l.a)(Object(l.a)({},t),{},{boards:Object(l.a)(Object(l.a)({},t.boards),{},Object(b.a)({},e.payload.board_id,y(t.boards[e.payload.board_id],e))),cards:Object(l.a)(Object(l.a)({},t.cards),{},Object(b.a)({},e.payload.id,h(t.cards[e.payload.id],e)))});case"UPDATE_CARD":return Object(l.a)(Object(l.a)({},t),{},{cards:Object(l.a)(Object(l.a)({},t.cards),{},Object(b.a)({},e.payload.id,h(t.cards[e.payload.id],e)))});case"SELECT_BOARD":return Object(l.a)(Object(l.a)({},t),{},{activeBoard:e.payload.board});default:return t}}),x);g.subscribe((function(){return function(t){try{JSON.stringify(t),localStorage.setItem("state",t)}catch(e){console.warn(e)}}(JSON.stringify(g.getState()))}));var v=g,m=(a(43),a.p,a(44),a(28)),C=a.n(m),D=a(34),_=a(6),A=a(1);var T=a(13),E=a(12),S=(a(50),a(16)),R=a(17);a(54);function P(t){var e=t.card,a=Object(n.b)((function(e){return e.cards[t.card.id]})),d=Object(c.useState)(a.title||""),o=Object(T.a)(d,2),r=o[0],i=o[1],s=Object(c.useState)(a.body||""),b=Object(T.a)(s,2),l=b[0],j=b[1],u=Object(c.useState)(a.color||"#9999FF"),O=Object(T.a)(u,2),p=O[0],y=O[1];return Object(A.jsxs)("form",{onSubmit:function(t){t.preventDefault(),v.dispatch({type:"UPDATE_CARD",payload:{id:e.id,title:r,color:p,body:l,editing:!1}})},id:"edit-card",onContextMenu:function(t){t.stopPropagation(),t.preventDefault()},children:[Object(A.jsx)("header",{style:{backgroundColor:p},children:Object(A.jsx)("textarea",{type:"text",name:"title",placeholder:"Title",value:r,onChange:function(t){i(t.target.value)},style:{backgroundColor:p},maxLength:"20"})}),Object(A.jsx)("textarea",{id:"edit-card-body",name:"body",value:l,onChange:function(t){j(t.target.value)},placeholder:"Card Contents",rows:"3"}),Object(A.jsxs)("footer",{children:[Object(A.jsx)("input",{type:"color",value:p,onChange:function(t){y(t.target.value)},name:"color"}),Object(A.jsx)("button",{type:"submit",style:{margin:"0 auto"},children:Object(A.jsx)(S.a,{icon:R.a,style:{color:"green"}})})]})]})}a(55);function w(t){var e=t.card,a=Object(n.b)((function(t){return t.cards[e.id]})),d=Object(c.useState)(e.position||{x:150,y:150}),o=Object(T.a)(d,2),r=o[0],i=o[1],s=e.position||{x:150,y:150},b=Object(c.useState)({x:0,y:0}),l=Object(T.a)(b,2),j=l[0],u=l[1],O=Object(E.c)({id:e.id}).show;var p={gridRow:"".concat(s.y," / ").concat(s.y+80),gridColumn:"".concat(s.x," / ").concat(s.x+120)},y={gridRow:"".concat(s.y," / ").concat(s.y+80),gridColumn:"".concat(s.x," / ").concat(s.x+120),transform:"scale(1.25)"};return Object(c.useEffect)((function(){v.dispatch({type:"UPDATE_CARD_POSITION",payload:{id:e.id,board_id:a.board_id,position:r}})}),[r]),a.status.editing?!0===a.status.editing?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"Dash-Card Dash-Card-Edit",style:y,children:Object(A.jsx)(P,{card:e})})}):void 0:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C.a,{bounds:"parent",onDrag:function(t,e){var a=j.x,c=j.y;u({x:a+e.deltaX,y:c+e.deltaY})},onStop:function(t,e){var a=j.x,c=j.y;i({x:r.x+a,y:r.y+c}),u({x:0,y:0})},position:{x:0,y:0},children:Object(A.jsxs)("div",{className:"Dash-Card",style:p,onContextMenu:function(t){t.stopPropagation(),O(t)},children:[Object(A.jsx)("header",{style:{backgroundColor:a.color},children:Object(A.jsx)("strong",{children:a.title})}),Object(A.jsx)("p",{children:a.body})]})}),Object(A.jsxs)(E.b,{id:e.id,children:[Object(A.jsx)(E.a,{onClick:function(t){v.dispatch({type:"UPDATE_CARD_STATUS",payload:{id:e.id,type:"complete",status:!0}})},children:"Complete"}),Object(A.jsx)(E.a,{onClick:function(t){v.dispatch({type:"UPDATE_CARD_STATUS",payload:{id:e.id,type:"editing",status:!0}})},children:"Edit"}),Object(A.jsx)(E.a,{onClick:function(t){v.dispatch({type:"UPDATE_CARD_STATUS",payload:{id:e.id,type:"discarded",status:!0}})},children:"Discard"})]})]})}a(56);function N(t){return Object(A.jsx)("li",{id:t.board.id,onClick:function(){v.dispatch({type:"SELECT_BOARD",payload:{board:t.board.id}})},children:t.board.title})}function k(t){var e=Object(n.b)((function(t){return t.cards})),a=Object(n.b)((function(t){return t.boards})),c=Object(n.b)((function(t){return t.activeBoard})),d=Object(n.b)((function(t){return t.boards[c].title}));return Object(A.jsxs)("div",{className:"DashBoardNav",children:[Object(A.jsxs)("p",{children:[function(){var t=[];return Object.keys(e).map((function(a){return t.push(e[a])})),t.filter((function(t){return!0===t.status.discarded&&t.board_id===c}))}().length,"     ",Object(A.jsx)(S.a,{icon:R.b,style:{color:"#43F7C8"}})]}),Object(A.jsx)("div",{children:Object(A.jsx)("nav",{role:"navigation",className:"menu",children:Object(A.jsx)("ul",{children:Object(A.jsxs)("li",{children:[d," ",Object(A.jsx)("strong",{children:"Dashboard"}),Object(A.jsx)("ul",{className:"dropdown",children:function(){for(var t=Object.keys(a),e=[],d=0;d<t.length;d++)a[t[d]].id!==c&&e.push(a[t[d]]);return e}().map((function(t){return Object(A.jsx)(N,{board:t})}))})]})})})}),Object(A.jsxs)("p",{children:[function(){var t=[];return Object.keys(e).map((function(a){return t.push(e[a])})),t.filter((function(t){return!0===t.status.complete&&t.board_id===c}))}().length,"     ",Object(A.jsx)(S.a,{icon:R.c,style:{color:"gold"}})]})]})}a(57);function F(t){var e=Object(n.b)((function(e){return e.boards[t.id]})),a=Object(n.b)((function(t){return t.cards})),c=(t.id,Object(E.c)({id:t.id}).show);return Object(A.jsxs)("div",{className:"Board",children:[Object(A.jsx)(k,{}),Object(A.jsx)("div",{className:"Board-Valid",onContextMenu:c,children:function(){var t=[];return Object.keys(e.cards).map((function(a){return t.push(e.cards[a])})),t.filter((function(t){return 1!=a[t.id].status.complete&&1!=a[t.id].status.discarded}))}().map((function(t){return Object(A.jsx)(w,{card:t})}))}),Object(A.jsx)(E.b,{id:t.id,style:{zIndex:0},children:Object(A.jsx)(E.a,{onClick:function(e){var a=e.triggerEvent.target.getBoundingClientRect();e.triggerEvent,v.dispatch({type:"CREATE_CARD",payload:{title:"",color:"#9999FF",body:"",id:(new Date).getTime(),board_id:t.id,status:{editing:!0,complete:!1,discarded:!1},position:{x:Math.round(e.triggerEvent.clientX-a.x),y:Math.round(e.triggerEvent.clientY-a.y)}}})},children:"New Card"})})]})}function U(){var t=Object(n.b)((function(t){return t.cards}));return console.log(function(){var e=[];return Object.keys(t).map((function(a){return e.push(t[a])})),e.filter((function(t){return!0===t.status.complete}))}()),Object(A.jsxs)("div",{className:"overview",children:[Object(A.jsx)("h2",{children:"Today"}),Object(A.jsx)("br",{}),Object(A.jsx)("h2",{children:"This Week"}),Object(A.jsx)("br",{}),Object(A.jsx)("h2",{children:"This Month"})]})}var B=function(){var t=Object(n.b)((function(t){return t.activeBoard}));return Object(c.useEffect)((function(){document.title="Dashboard"}),[]),Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(D.a,{children:Object(A.jsxs)(_.c,{children:[Object(A.jsx)(_.a,{path:"/overview",children:Object(A.jsx)("div",{className:"DashBoard",children:Object(A.jsx)(U,{})})}),Object(A.jsx)(_.a,{path:"/",children:Object(A.jsx)("div",{className:"DashBoard",children:Object(A.jsx)(F,{id:t})})})]})})})},M=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(e){var a=e.getCLS,c=e.getFID,d=e.getFCP,o=e.getLCP,r=e.getTTFB;a(t),c(t),d(t),o(t),r(t)}))};r.a.render(Object(A.jsx)(d.a.StrictMode,{children:Object(A.jsx)(n.a,{store:v,children:Object(A.jsx)(B,{})})}),document.getElementById("root")),M()}},[[59,1,2]]]);
//# sourceMappingURL=main.d2729913.chunk.js.map